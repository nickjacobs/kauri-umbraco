var url=tinyMCE.getParam("external_image_list_url");if(url!=null){if(url.charAt(0)!="/"&&url.indexOf("://")==-1){url=tinyMCE.documentBasePath+"/"+url}document.write('<script language="javascript" type="text/javascript" src="'+url+'"><\/script>')}function insertImage(){var G=document.forms[0].src.value;var F=document.forms[0].alt.value;var C=document.forms[0].border.value;var B=document.forms[0].vspace.value;var D=document.forms[0].hspace.value;var E=document.forms[0].width.value;var A=document.forms[0].height.value;var H=document.forms[0].align.options[document.forms[0].align.selectedIndex].value;tinyMCEPopup.restoreSelection();tinyMCE.themes.advanced._insertImage(G,F,C,D,B,E,A,H);tinyMCEPopup.close()}function init(){tinyMCEPopup.resizeToInnerSize();document.getElementById("srcbrowsercontainer").innerHTML=getBrowserHTML("srcbrowser","src","image","theme_advanced_image");var A=document.forms[0];for(var B=0;B<document.forms[0].align.options.length;B++){if(document.forms[0].align.options[B].value==tinyMCE.getWindowArg("align")){document.forms[0].align.options.selectedIndex=B}}A.src.value=tinyMCE.getWindowArg("src");A.alt.value=tinyMCE.getWindowArg("alt");A.border.value=tinyMCE.getWindowArg("border");A.vspace.value=tinyMCE.getWindowArg("vspace");A.hspace.value=tinyMCE.getWindowArg("hspace");A.width.value=tinyMCE.getWindowArg("width");A.height.value=tinyMCE.getWindowArg("height");A.insert.value=tinyMCE.getLang("lang_"+tinyMCE.getWindowArg("action"),"Insert",true);if(isVisible("srcbrowser")){document.getElementById("src").style.width="180px"}if(typeof(tinyMCEImageList)!="undefined"&&tinyMCEImageList.length>0){for(var B=0;B<A.image_list.length;B++){if(A.image_list.options[B].value==tinyMCE.getWindowArg("src")){A.image_list.options[B].selected=true}}}}var preloadImg=new Image();function resetImageData(){var A=document.forms[0];A.width.value=A.height.value=""}function updateImageData(){var A=document.forms[0];if(A.width.value==""){A.width.value=preloadImg.width}if(A.height.value==""){A.height.value=preloadImg.height}}function getImageData(){preloadImg=new Image();tinyMCE.addEvent(preloadImg,"load",updateImageData);tinyMCE.addEvent(preloadImg,"error",function(){var A=document.forms[0];A.width.value=A.height.value=""});preloadImg.src=tinyMCE.convertRelativeToAbsoluteURL(tinyMCE.settings.base_href,document.forms[0].src.value)};