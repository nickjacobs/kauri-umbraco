var ie=document.all?true:false;var x,y;var currentid=1;var menuHeight;var menuWidth=150;var menutop;var menuleft;function getMousePos(A){if(ie){x=window.event.clientX+window.top.document.body.scrollLeft+20;y=window.event.clientY+window.top.document.body.scrollTop+80}else{x=A.pageX+20;y=A.pageY-jQuery(document).scrollTop()+80}}function WinHeightY(){var A;if(typeof(window.innerWidth)=="number"){A=window.top.innerHeight}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){A=window.top.document.documentElement.clientHeight}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){A=window.top.document.body.clientHeight}}}return A}if(!ie){document.captureEvents(Event.MOUSEMOVE)}document.onmousemove=getMousePos;function ContextMenu(){var B;var D=500;this.el=null;this.Show=function(G){menuActive=true;var F="";var E;menuHeight=0;for(E=0;E<G.length;E++){if(!G[E].isSplitter){if(G[E].icon.substring(0,6)!="images"){F+='<div onmouseover="this.className=\'menuiconon\'" onmouseout="this.className=\'menuicon\'" class="menuicon" onclick="window.tree.menu.Hide(); '+G[E].action+'"><div class="menuSpr '+G[E].icon+"\">&nbsp;</div><div style='padding-top:3px;'>"+G[E].text+"</div></div>"}else{F+='<div onmouseover="this.className=\'menuiconon\'" onmouseout="this.className=\'menuicon\'" class="menuicon" onclick="window.tree.menu.Hide(); '+G[E].action+'"><img src="'+G[E].icon+'" align="left"><div style=\'padding-top:3px;\'>'+G[E].text+"</div></div>"}menuHeight+=30}else{F+='<img src="css/splitter.gif" class="splitter">';menuHeight+=3}}menutop=(y-10);menuleft=(x-10);if(y+menuHeight>WinHeightY()){menutop-=(WinHeightY()-y+10);if(menutop<0){menutop=10}else{if(menutop+menuHeight>WinHeightY()){menutop-=(menutop+menuHeight-WinHeightY()-10)}}}C().innerHTML=F;C().style.display="block";C().style.top=menutop+"px";C().style.left=menuleft+"px";window.setTimeout("menu.validateContextMenu();",100);return false};this.Hide=function(){C().innerHTML="";C().style.display="none"};function A(){if(window.top.document.getElementById("cmenu")==null){var F=window.top.document.getElementsByTagName("body")[0];var E=window.top.document.createElement("div");E.setAttribute("id","cmenu");F.appendChild(E);C().style.position="absolute"}}function C(){A();if(B==null){B=window.top.document.getElementById("cmenu")}return B}this.validateContextMenu=function(){if((x>=menuleft)&&(x<=(menuleft+menuWidth))&&(y>=menutop)&&(y<=(menutop+menuHeight))){window.setTimeout("menu.validateContextMenu();",100)}else{this.Hide();menuActive=""}}}function MenuItem(D,C,B,A){this.text=D;this.action=C;this.icon=B;this.isSplitter=A}var menu=new ContextMenu();