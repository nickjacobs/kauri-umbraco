function SyncTree(L,E,G,K,J,C){if(!J||J==""){J=0}if(J>5){jQuery(document).unbind("xTreeNodeLoaded");jQuery(document).unbind("xTreeNodeExpanded");parent.UmbSpeechBubble.ShowMessage("error","Can't expand tree","There was an error loading children, please try again",false);return}if(tree.nodeID!=L[0]){var F="";var I=false;for(var D=0;D<L.length;D++){if(!I&&tree.nodeID==L[D]){I=true}if(I){F+=L[D];if(D<L.length-1){F+=","}}}L=F.split(",")}var A=L[L.length-1];var H=findNodeById(A);if(H){var B=null;for(var D=1;D<L.length-1;D++){var B=findNodeById(L[D]);if(B!=""){if(!B.open){B.expand()}}}if(K=="0"){H.notPublished=1;H.iconClass="umbraco-tree-icon-grey";jQuery("#"+H.id+" .overlayHolder").prepend(H.getVersionOverlay());if(G==""){G=H.text}}else{if(K=="1"){H.notPublished=0;H.iconClass="";jQuery("#"+H.id+" .newVersionOverlay").remove();if(G==""){G=H.text}}}if(G!=""){H.text=G;if(H.notPublished){jQuery("#"+H.id+"-anchor").html('<span style="color: #999">'+H.text+"</span>")}else{jQuery("#"+H.id+"-anchor").html(H.text)}}H.mark();jQuery(document).unbind("xTreeNodeLoaded");jQuery(document).unbind("xTreeNodeExpanded")}else{for(var D=1;D<L.length-1;D++){var B=findNodeById(L[D]);if(B){if(B.hasChildren!="false"){if(!B.open){if(B.loaded!=false){jQuery(document).one("xTreeNodeExpanded",function(M,N){SyncTree(L,E,"","",J+1,"expand")})}else{jQuery(document).one("xTreeNodeLoaded",function(M,N){SyncTree(L,E,"","",J+1,"loaded 1")})}if(E=="true"&&D<=L.length-2){B.src=B.src+"&reload="+Math.random()*10}B.expand()}else{if(E=="true"&&D==L.length-2){if(!B.loading){B.src=B.src+"&reload="+Math.random()*10;jQuery(document).one("xTreeNodeLoaded",function(M,N){SyncTree(L,E,"","",J+1,"loaded 2")});B.reload()}}}}}}}}function findNodeById(A){return findNodeByIdDo(tree,A)}function findNodeByIdDo(B,E){var D=B.childNodes;if(D!=null){for(var A=0;A<D.length;A++){if(D[A].nodeID==E){return D[A]}else{if(D[A].childNodes!=null){var C=findNodeByIdDo(D[A],E);if(C!=""){return C}}}}}return""}var webFXTreeConfig={rootIcon:"images/foldericon.png",openRootIcon:"images/openfoldericon.png",folderIcon:"images/foldericon.png",openFolderIcon:"images/openfoldericon.png",fileIcon:"images/file.png",iIcon:"images/I.png",lIcon:"images/L.png",lMinusIcon:"images/Lminus.png",lPlusIcon:"images/Lplus.png",tIcon:"images/T.png",tMinusIcon:"images/Tminus.png",tPlusIcon:"images/Tplus.png",blankIcon:"images/blank.png",defaultText:"Tree Item",defaultAction:"javascript:void(0);",defaultBehavior:"classic",usePersistence:false};var webFXTreeHandler={idCounter:0,idPrefix:"webfx-tree-object-",all:{},behavior:null,selected:null,onSelect:null,getId:function(){return this.idPrefix+this.idCounter++},toggle:function(A){this.all[A.id.replace("-plus","")].toggle()},select:function(A){this.all[A.id.replace("-icon","")].select()},focus:function(A){this.all[A.id.replace("-anchor","")].focus()},mark:function(A){this.all[A.id.replace("-anchor","").replace("-mainanchor","")].mark()},blur:function(A){this.all[A.id.replace("-anchor","")].blur()},operaContextMenu:function(A){if(window.opera){return showContextMenu(A)}else{this.toggle(A)}},updateUmbracoData:function(B,A){this.all[B.id.replace(A,"")].updateUmbracoData()},keydown:function(B,A){return this.all[B.id].keydown(A.keyCode)},cookies:new WebFXCookie(),insertHTMLBeforeEnd:function(A,C){if(A.insertAdjacentHTML!=null){A.insertAdjacentHTML("BeforeEnd",C);return}var D;var B=A.ownerDocument.createRange();B.selectNodeContents(A);B.collapse(false);D=B.createContextualFragment(C);A.appendChild(D)}};function WebFXCookie(){if(document.cookie.length){this.cookies=" "+document.cookie}}WebFXCookie.prototype.setCookie=function(A,B){document.cookie=A+"="+escape(B)};WebFXCookie.prototype.getCookie=function(C){if(this.cookies){var D=this.cookies.indexOf(" "+C+"=");if(D==-1){return null}var A=this.cookies.indexOf(";",D);if(A==-1){A=this.cookies.length}A-=D;var B=this.cookies.substr(D,A);return unescape(B.substr(B.indexOf("=")+1,B.length-B.indexOf("=")+1))}else{return null}};function WebFXTreeAbstractNode(B,A){this.childNodes=[];this.id=webFXTreeHandler.getId();this.text=B||webFXTreeConfig.defaultText;this.action=A||webFXTreeConfig.defaultAction;this._last=false;webFXTreeHandler.all[this.id]=this}WebFXTreeAbstractNode.prototype.add=function(D,A){D.parentNode=this;this.childNodes[this.childNodes.length]=D;var B=this;if(this.childNodes.length>=2){this.childNodes[this.childNodes.length-2]._last=false}while(B.parentNode){B=B.parentNode}if(B.rendered){if(this.childNodes.length>=2){document.getElementById(this.childNodes[this.childNodes.length-2].id+"-plus").src=((this.childNodes[this.childNodes.length-2].folder)?((this.childNodes[this.childNodes.length-2].open)?webFXTreeConfig.tMinusIcon:webFXTreeConfig.tPlusIcon):webFXTreeConfig.tIcon);this.childNodes[this.childNodes.length-2].plusIcon=webFXTreeConfig.tPlusIcon;this.childNodes[this.childNodes.length-2].minusIcon=webFXTreeConfig.tMinusIcon;this.childNodes[this.childNodes.length-2]._last=false}this._last=true;var E=this;while(E.parentNode){for(var C=0;C<E.parentNode.childNodes.length;C++){if(E.id==E.parentNode.childNodes[C].id){break}}if(C==E.parentNode.childNodes.length-1){E.parentNode._last=true}else{E.parentNode._last=false}E=E.parentNode}webFXTreeHandler.insertHTMLBeforeEnd(document.getElementById(this.id+"-cont"),D.toString());if((!this.folder)&&(!this.openIcon)){this.icon=webFXTreeConfig.folderIcon;this.openIcon=webFXTreeConfig.openFolderIcon}if(!this.folder){this.folder=true;this.collapse(true)}if(!A){this.indent()}}return D};WebFXTreeAbstractNode.prototype.toggle=function(){if(this.folder){if(this.open){this.collapse()}else{this.expand()}}};WebFXTreeAbstractNode.prototype.select=function(){document.getElementById(this.id+"-anchor").focus()};WebFXTreeAbstractNode.prototype.deSelect=function(){jQuery("#"+this.id+"-anchor").removeClass();webFXTreeHandler.selected=null};WebFXTreeAbstractNode.prototype.focus=function(){};WebFXTreeAbstractNode.prototype.mark=function(){if((webFXTreeHandler.selected)&&(webFXTreeHandler.selected!=this)){webFXTreeHandler.selected.deSelect()}webFXTreeHandler.selected=this;if((this.openIcon)&&(webFXTreeHandler.behavior!="classic")){document.getElementById(this.id+"-icon").src=this.openIcon}jQuery("#"+this.id+"-anchor").removeClass().addClass("selected");if(document.getElementById(this.id+"-anchor").visible){document.getElementById(this.id+"-anchor").focus()}if(webFXTreeHandler.onSelect){webFXTreeHandler.onSelect(this)}};WebFXTreeAbstractNode.prototype.updateUmbracoData=function(){if(menuActive==""){if(this.nodeID){if(parent.nodeID!=this.nodeID||parent.nodeType!=this.nodeType){parent.node=this;parent.nodeKey=this.id;parent.nodeID=this.nodeID;parent.nodeType=this.nodeType;parent.nodeName=this.text;parent.nodeMenu=this.menu}}else{parent.node=null;parent.nodeID=-1;parent.nodeKey="";parent.nodeType="";parent.nodeName="";parent.nodeMenu=""}}};WebFXTreeAbstractNode.prototype.blur=function(){if((webFXTreeHandler.selected)&&(webFXTreeHandler.selected==this)){if((this.openIcon)&&(webFXTreeHandler.behavior!="classic")){document.getElementById(this.id+"-icon").src=this.icon}jQuery("#"+this.id+"-anchor").removeClass().addClass("selected-inactive")}};WebFXTreeAbstractNode.prototype.doExpand=function(){if(this.childNodes.length){document.getElementById(this.id+"-cont").style.display="block"}this.open=true;if(webFXTreeConfig.usePersistence){webFXTreeHandler.cookies.setCookie(this.id.substr(18,this.id.length-18),"1")}jQuery(document).trigger("xTreeNodeExpanded",this)};WebFXTreeAbstractNode.prototype.doCollapse=function(){if(this.childNodes.length){document.getElementById(this.id+"-cont").style.display="none"}this.open=false;if(webFXTreeConfig.usePersistence){webFXTreeHandler.cookies.setCookie(this.id.substr(18,this.id.length-18),"0")}};WebFXTreeAbstractNode.prototype.expandAll=function(){this.expandChildren();if((this.folder)&&(!this.open)){this.expand()}};WebFXTreeAbstractNode.prototype.expandChildren=function(){for(var A=0;A<this.childNodes.length;A++){this.childNodes[A].expandAll()}};WebFXTreeAbstractNode.prototype.collapseAll=function(){this.collapseChildren();if((this.folder)&&(this.open)){this.collapse(true)}};WebFXTreeAbstractNode.prototype.collapseChildren=function(){for(var A=0;A<this.childNodes.length;A++){this.childNodes[A].collapseAll()}};WebFXTreeAbstractNode.prototype.indent=function(C,A,E,H,B){if(C==null){C=-2}var F=0;for(var D=this.childNodes.length-1;D>=0;D--){F=this.childNodes[D].indent(C+1,A,E,H);if(F){return}}if(A){if((H>=this._level)&&(document.getElementById(this.id+"-plus"))){if(this.folder){document.getElementById(this.id+"-plus").src=(this.open)?webFXTreeConfig.lMinusIcon:webFXTreeConfig.lPlusIcon;this.plusIcon=webFXTreeConfig.lPlusIcon;this.minusIcon=webFXTreeConfig.lMinusIcon}else{if(B){document.getElementById(this.id+"-plus").src=webFXTreeConfig.lIcon}}return 1}}var G=document.getElementById(this.id+"-indent-"+C);if(G){if((G._last)||((A)&&(E))){G.src=webFXTreeConfig.blankIcon}else{G.src=webFXTreeConfig.iIcon}}return 0};function WebFXTree(D,J,E,A,L,I,B,F,G,K){this.base=WebFXTreeAbstractNode;this.base(D,J);var H=(A!=null&&A!=""?(A.substring(0,1)=="."&&A.substring(0,2)!=".."?A.substring(1,A.length):"images/umbraco/"+A):null);var C=(A!=null&&A!=""?(L.substring(0,1)=="."&&L.substring(0,2)!=".."?L.substring(1,L.length):"images/umbraco/"+L):null);this.icon=H||webFXTreeConfig.rootIcon;this.openIcon=C||webFXTreeConfig.openRootIcon;this.nodeType=I;this.nodeID=B;if(F){this.menu=F}if(G){this.notPublished=1}else{this.notPublished=0}if(K){this.isProtected=1}else{this.isProtected=0}if(webFXTreeConfig.usePersistence){this.open=(webFXTreeHandler.cookies.getCookie(this.id.substr(18,this.id.length-18))=="0")?false:true}else{this.open=true}this.folder=true;this.rendered=false;this.onSelect=null;if(!webFXTreeHandler.behavior){webFXTreeHandler.behavior=E||webFXTreeConfig.defaultBehavior}}WebFXTree.prototype=new WebFXTreeAbstractNode;WebFXTree.prototype.setBehavior=function(A){webFXTreeHandler.behavior=A};WebFXTree.prototype.getBehavior=function(A){return webFXTreeHandler.behavior};WebFXTree.prototype.getSelected=function(){if(webFXTreeHandler.selected){return webFXTreeHandler.selected}else{return null}};WebFXTree.prototype.remove=function(){};WebFXTree.prototype.expand=function(){this.doExpand()};WebFXTree.prototype.collapse=function(A){this.doCollapse()};WebFXTree.prototype.getFirst=function(){return null};WebFXTree.prototype.getLast=function(){return null};WebFXTree.prototype.getNextSibling=function(){return null};WebFXTree.prototype.getPreviousSibling=function(){return null};WebFXTree.prototype.keydown=function(A){if(A==39){if(!this.open){this.expand()}else{if(this.childNodes.length){this.childNodes[0].select()}}return false}if(A==37){this.collapse();return false}if((A==40)&&(this.open)&&(this.childNodes.length)){this.childNodes[0].select();return false}return true};WebFXTree.prototype.toString=function(){var A='<a href="'+this.action+'" id="'+this.id+'-anchor" onfocus="webFXTreeHandler.focus(this);" onblur="webFXTreeHandler.blur(this);">';var C='<div onMouseOver="webFXTreeHandler.updateUmbracoData(this, \'-icon\');" id="'+this.id+'" ondblclick="webFXTreeHandler.toggle(this);" class="webfx-root-item webfx-tree-item" oncontextmenu="return showContextMenu(this);" onkeydown="return webFXTreeHandler.keydown(this, event)">';if(this.icon.substring(0,6)!="images"){C+='<div class="sprTree '+this.icon+'"><img id="'+this.id+'-icon" class="webfx-tree-icon" src="images/nada.gif"></div>'}else{C+='<img id="'+this.id+'-icon" class="webfx-tree-icon" src="'+((webFXTreeHandler.behavior=="classic"&&this.open)?this.openIcon:this.icon)+'" onclick="webFXTreeHandler.select(this);"/>'}C+='<a href="'+this.action+'" id="'+this.id+'-anchor" onfocus="webFXTreeHandler.focus(this);" onblur="webFXTreeHandler.blur(this);"'+(this.target?' target="'+this.target+'"':"")+">"+this.text+'</a></div><div id="'+this.id+'-cont" class="webfx-tree-container" style="display: '+((this.open)?"block":"none")+';">';var D=[];for(var B=0;B<this.childNodes.length;B++){D[B]=this.childNodes[B].toString(B,this.childNodes.length)}this.rendered=true;return C+D.join("")+"</div>"};function WebFXITreetem(D,I,G,B,K,H,C,A,E,F,J){this.base=WebFXTreeAbstractNode;this.base(D,I);if(webFXTreeConfig.usePersistence){this.open=(webFXTreeHandler.cookies.getCookie(this.id.substr(18,this.id.length-18))=="1")?true:false}else{this.open=false}if(B){this.icon=B}if(D){this.text=D}if(H){this.nodeType=H}if(A){this.iconClass=A}if(C){this.nodeID=C}if(K){this.openIcon=K}if(G){G.add(this)}if(E){this.menu=E}if(F){this.notPublished=1}else{this.notPublished=0}if(J){this.isProtected=1}else{this.isProtected=0}}WebFXITreetem.prototype=new WebFXTreeAbstractNode;WebFXITreetem.prototype.remove=function(){var B=document.getElementById(this.id+"-plus").src;var A=this.parentNode;var C=this.getPreviousSibling(true);var F=this.getNextSibling(true);var E=this.parentNode.folder;var D=((F)&&(F.parentNode)&&(F.parentNode.id==A.id))?false:true;this.getPreviousSibling().focus();this._remove();if(A.childNodes.length==0){document.getElementById(A.id+"-cont").style.display="none";A.doCollapse();A.folder=false;A.open=false}if(!F||D){A.indent(null,true,D,this._level,A.childNodes.length)}if((C==A)&&!(A.childNodes.length)){C.folder=false;C.open=false;B=document.getElementById(C.id+"-plus").src;B=B.replace("minus","").replace("plus","");document.getElementById(C.id+"-plus").src=B}if(document.getElementById(C.id+"-plus")){if(A==C.parentNode){B=B.replace("minus","").replace("plus","");document.getElementById(C.id+"-plus").src=B}}};WebFXITreetem.prototype._remove=function(){for(var C=this.childNodes.length-1;C>=0;C--){this.childNodes[C]._remove()}for(var C=0;C<this.parentNode.childNodes.length;C++){if(this==this.parentNode.childNodes[C]){for(var A=C;A<this.parentNode.childNodes.length;A++){this.parentNode.childNodes[A]=this.parentNode.childNodes[A+1]}this.parentNode.childNodes.length-=1;if(C+1==this.parentNode.childNodes.length){this.parentNode._last=true}break}}webFXTreeHandler.all[this.id]=null;var B=document.getElementById(this.id);if(B){B.parentNode.removeChild(B)}B=document.getElementById(this.id+"-cont");if(B){B.parentNode.removeChild(B)}};WebFXITreetem.prototype.expand=function(){this.doExpand();document.getElementById(this.id+"-plus").src=this.minusIcon};WebFXITreetem.prototype.collapse=function(A){if(!A){this.focus()}this.doCollapse();document.getElementById(this.id+"-plus").src=this.plusIcon};WebFXITreetem.prototype.getFirst=function(){return this.childNodes[0]};WebFXITreetem.prototype.getLast=function(){if(this.childNodes[this.childNodes.length-1].open){return this.childNodes[this.childNodes.length-1].getLast()}else{return this.childNodes[this.childNodes.length-1]}};WebFXITreetem.prototype.getNextSibling=function(){for(var A=0;A<this.parentNode.childNodes.length;A++){if(this==this.parentNode.childNodes[A]){break}}if(++A==this.parentNode.childNodes.length){return this.parentNode.getNextSibling()}else{return this.parentNode.childNodes[A]}};WebFXITreetem.prototype.getPreviousSibling=function(A){for(var B=0;B<this.parentNode.childNodes.length;B++){if(this==this.parentNode.childNodes[B]){break}}if(B==0){return this.parentNode}else{if((this.parentNode.childNodes[--B].open)||(A&&this.parentNode.childNodes[B].folder)){return this.parentNode.childNodes[B].getLast()}else{return this.parentNode.childNodes[B]}}};WebFXITreetem.prototype.keydown=function(B){if((B==39)&&(this.folder)){if(!this.open){this.expand()}else{this.getFirst().select()}return false}else{if(B==37){if(this.open){this.collapse()}else{this.parentNode.select()}return false}else{if(B==40){if(this.open){this.getFirst().select()}else{var A=this.getNextSibling();if(A){A.select()}}return false}else{if(B==38){this.getPreviousSibling().select();return false}}}}return true};WebFXITreetem.prototype.updateName=function(A){this.text=A;if(this.notPublished){jQuery("#"+this.id+"-anchor span").html(A)}else{jQuery("#"+this.id+"-anchor").html(A)}};WebFXITreetem.prototype.changePublishStatus=function(B){var A=this.notPublished;if(A!=B){this.notPublished=A}};WebFXITreetem.prototype.getVersionOverlay=function(){return'<div class="newVersionOverlay"><img src="images/nada.gif"/></div>'};WebFXITreetem.prototype.toString=function(I,D){var H=this.parentNode;var B="";if(I+1==D){this.parentNode._last=true}var K=0;var E=0;while(H.parentNode){H=H.parentNode;K=K+20;E++}this._level=E;if(this.childNodes.length){this.folder=1}else{this.open=false}if((this.folder)||(webFXTreeHandler.behavior!="classic")){if(!this.icon){this.icon=webFXTreeConfig.folderIcon}if(!this.openIcon){this.openIcon=webFXTreeConfig.openFolderIcon}}else{if(!this.icon){this.icon=webFXTreeConfig.fileIcon}}var J=this.text.replace(/</g,"&lt;").replace(/>/g,"&gt;");if(parent.uiKeys!=undefined){var A=true}else{var A=false}if(A){var C=parent.uiKeys.content_clickToEdit}var F='<div style="margin-left: '+K+'px;" onMouseOver="webFXTreeHandler.updateUmbracoData(this, \'-icon\');" id="'+this.id+'" ondblclick="webFXTreeHandler.operaContextMenu(this);" class="webfx-tree-item" oncontextmenu="return showContextMenu(this);" onkeydown="return webFXTreeHandler.keydown(this, event)"><img id="'+this.id+'-plus" src="'+((this.folder)?((this.open)?((this.parentNode._last)?webFXTreeConfig.lMinusIcon:webFXTreeConfig.tMinusIcon):((this.parentNode._last)?webFXTreeConfig.lPlusIcon:webFXTreeConfig.tPlusIcon)):((this.parentNode._last)?webFXTreeConfig.lIcon:webFXTreeConfig.tIcon))+'" onclick="webFXTreeHandler.toggle(this);"><div class="overlayHolder">';if(this.notPublished==1){F+=this.getVersionOverlay();if(A){C=parent.uiKeys.content_itemChanged+" ("+C+")"}}if(this.isProtected==1){F+='<div class="newProtectOverlay"><img src="images/nada.gif"/></div>'}F+='<a href="'+this.action+'" id="'+this.id+'-mainanchor" onclick="webFXTreeHandler.mark(this);">';if(this.icon.substring(0,6)!="images"){if(this.iconClass){if(A&&this.nodeType=="content"){C=parent.uiKeys.content_itemNotPublished+" ("+C+")"}F+='<div class="sprTree '+this.icon+" "+this.iconClass+'"><img alt="'+C+'" id="'+this.id+'-icon" src="images/nada.gif"></a></div><a href="'+this.action+'"  onclick="webFXTreeHandler.mark(this);" id="'+this.id+'-anchor"><span style="color: #999999">'+J+"</span></a></div>"}else{F+='<div class="sprTree '+this.icon+'"><img id="'+this.id+'-icon" alt="'+C+'" class="webfx-tree-icon" src="images/nada.gif"></a></div><a href="'+this.action+'"  onclick="webFXTreeHandler.mark(this);" id="'+this.id+'-anchor">'+J+"</a></div>"}}else{if(this.iconClass){if(A&&this.nodeType=="content"){C=parent.uiKeys.content_itemNotPublished+" ("+C+")"}F+='<img alt="'+C+'" id="'+this.id+'-icon" class="'+this.iconClass+'" src="'+((webFXTreeHandler.behavior=="classic"&&this.open)?this.openIcon:this.icon)+'"></a><a href="'+this.action+'" id="'+this.id+'-anchor" onclick="webFXTreeHandler.mark(this);"><span style="color: #999999">'+J+"</span></a></div>"}else{F+='<img id="'+this.id+'-icon" alt="'+C+'" class="webfx-tree-icon" src="'+((webFXTreeHandler.behavior=="classic"&&this.open)?this.openIcon:this.icon)+'"></a><a href="'+this.action+'" id="'+this.id+'-anchor" onclick="webFXTreeHandler.mark(this);">'+J+"</a></div>"}}F+='</div><div id="'+this.id+'-cont" class="webfx-tree-container" style="display: '+((this.open)?"block":"none")+';">';var G=[];for(var E=0;E<this.childNodes.length;E++){G[E]=this.childNodes[E].toString(E,this.childNodes.length)}this.plusIcon=((this.parentNode._last)?webFXTreeConfig.lPlusIcon:webFXTreeConfig.tPlusIcon);this.minusIcon=((this.parentNode._last)?webFXTreeConfig.lMinusIcon:webFXTreeConfig.tMinusIcon);return F+G.join("")+"</div>"};webFXTreeConfig.rootIcon="sprTreeFolder";webFXTreeConfig.openRootIcon="sprTreeFolder_o";webFXTreeConfig.folderIcon="sprTreeFolder";webFXTreeConfig.openFolderIcon="sprTreeFolder_o";webFXTreeConfig.fileIcon="images/tree/wait.gif";webFXTreeConfig.lMinusIcon="images/xp/Lminus.gif";webFXTreeConfig.lPlusIcon="images/xp/Lplus.gif";webFXTreeConfig.tMinusIcon="images/xp/Lminus.gif";webFXTreeConfig.tPlusIcon="images/xp/Lplus.gif";webFXTreeConfig.iIcon="images/xp/L.gif";webFXTreeConfig.lIcon="images/xp/L.gif";webFXTreeConfig.tIcon="images/xp/L.gif";function umbracoXtreeUpdateNode(D,A,C){for(var B=0;B<parent.tree.webFXTreeHandler.idCounter;B++){if(parent.tree.webFXTreeHandler.all["webfx-tree-object-"+B]){if(parent.tree.webFXTreeHandler.all["webfx-tree-object-"+B].nodeID==D){if(webFXTreeHandler.all["webfx-tree-object-"+B].parentNode.parentNode){parent.tree.webFXTreeHandler.all["webfx-tree-object-"+B].parentNode.src=parent.tree.webFXTreeHandler.all["webfx-tree-object-"+B].parentNode.src+"&rnd="+Math.random()*10;webFXTreeHandler.all["webfx-tree-object-"+B].parentNode.reload();setTimeout("umbracoTreeDoFocus("+D+")",200)}else{document.location.href=document.location.href}}}}}function umbracoTreeDoFocus(C){var A=0;if(webFXTreeHandler){for(var B=0;B<webFXTreeHandler.idCounter;B++){if(webFXTreeHandler.all["webfx-tree-object-"+B]){if(webFXTreeHandler.all["webfx-tree-object-"+B].nodeID==C){webFXTreeHandler.all["webfx-tree-object-"+B].select();A=1;webFXTreeHandler.all["webfx-tree-object-"+B].blur()}}}}if(A==0){setTimeout("umbracoTreeDoFocus("+C+")",200)}};